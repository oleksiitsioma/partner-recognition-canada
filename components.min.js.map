{"version":3,"file":"components.min.js","sources":["../src/components/component/component.const.js","../src/components/component/component.js","../src/components/accordion/fmcAccordion.const.js","../src/utilities/constants/keycodes.const.js","../src/components/accordion/fmcAccordion.js","../src/utilities/functions/forceCssReflow.js","../src/components/tabs/fmcTabs.const.js","../src/components/tabs/fmcTabs.js","../src/components/tooltip/fmcTooltip.const.js","../src/components/tooltip/fmcTooltip.js"],"sourcesContent":["export const classes = {\n  BOOTSTRAPPED: 'bootstrapped',\n};\n\nexport const strings = {\n  SVG_NS: 'http://www.w3.org/2000/svg',\n};\n","// eslint-disable-next-line no-unused-vars\nimport { classes, strings } from './component.const';\n\n/**\n *\n * @param {HTMLElement} element The element that will be bootstrapped.\n */\nexport default class FDSComponent {\n  /**\n   * Check if an element is bootstrapped.\n   * @param {HTMLElement} element The element to test if its already be bootstrapped.\n   * @returns {boolean} Returns true if element is already bootstrapped\n   */\n  static isElementBootstrapped(element) {\n    return element.classList.contains(classes.BOOTSTRAPPED);\n  }\n\n  /**\n   * Constructor\n   * @constructor\n   * @param {HTMLElement} element The element of the FDS component.\n   * @param {String} namespace The namespace of the FDS component, like `FDSComponent`.\n   */\n  constructor(element, namespace) {\n    this.fdsElement = element;\n\n    this.isIE11 = this.isIE11();\n\n    if (this.fdsElement) {\n      if (namespace) {\n        this.fdsElement[namespace] = this;\n      }\n      this.init();\n    }\n  }\n\n  /**\n   * Initialize component\n   */\n  init() {\n    this.fdsElement.classList.add(classes.BOOTSTRAPPED);\n  }\n\n  /**\n   * Check if browser is IE11\n   */\n  isIE11() {\n    const ua = window.navigator.userAgent;\n    const trident = ua.indexOf('Trident/');\n    if (trident > 0) {\n      // IE 11 => return version number\n      const rv = ua.indexOf('rv:');\n      return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n    }\n    return false;\n  }\n\n  /**\n   * Remove a child element from its parent.\n   * @param {HTMLElement} childNode The element to remove.\n   */\n\n  removeChild(childNode) {\n    if (childNode && childNode.parentNode) {\n      childNode.remove();\n    }\n  }\n\n  /**\n   * Creates an HTML element and sets the given CSS classes and attributes.\n   * @param {string} elTagName is a string that specifies the type of element to be created.\n   * @param {Array} elClasses is an array of class names to set, e.g. ['fds-class-1', 'fds-class-2'].\n   * @param {Object} elAttributes is an object with attributes to set, e.g. {width: 100}.\n   * @returns {HTMLElement} The created element.\n   */\n\n  createElement(elTagName, elClasses, elAttributes) {\n    const element = document.createElement(elTagName);\n    if (elClasses && elClasses.length) {\n      if (Array.isArray(elClasses)) {\n        elClasses.forEach((elClass) => {\n          element.classList.add(elClass);\n        });\n      } else {\n        element.classList.add(elClasses);\n      }\n    }\n    if (elAttributes) {\n      Object.entries(elAttributes).forEach((attribute) => {\n        element.setAttribute(attribute[0], attribute[1]);\n      });\n    }\n    return element;\n  }\n\n  /**\n   * Creates an HTML element and sets the given CSS classes and attributes.\n   * @param {string} selector is a string that specifies the selector of the requested element.\n   * @returns {HTMLElement} The fetched element.\n   */\n  getElement(selector) {\n    return this.element.querySelector(selector);\n  }\n\n  /**\n   * Creates an HTML element and sets the given CSS classes and attributes.\n   * @param {string} selector is a string that specifies the selector of the requested element.\n   * @returns {[HTMLElement]} The fetched elements.\n   */\n  getElements(selector) {\n    return this.element.querySelectorAll(selector);\n  }\n\n  /**\n   * Returns the HTMLElement of component.\n   */\n  get element() {\n    return this.fdsElement;\n  }\n}\n","export const classes = {\n  COMPONENT: 'js-fmc-accordion',\n  PANEL: 'fmc-accordion__panel',\n  BUTTON: 'fmc-accordion__button',\n  BUTTON_TEXT: 'fmc-accordion__button-text',\n  BODY: 'fmc-accordion__body',\n  CONTENT: 'fmc-accordion__content',\n  ACTIVE: 'fmc-accordion--active',\n  EXPANDED: 'fmc-accordion--expanded',\n};\n\nexport const attributes = {\n  ID: 'id',\n  ARIA_LABELLEDBY: 'aria-labelledby',\n  ARIA_HIDDEN: 'aria-hidden',\n  ARIA_EXPANDED: 'aria-expanded',\n  ARIA_CONTROLS: 'aria-controls',\n};\n\nexport const strings = {\n  HOME: 'home',\n  END: 'end',\n  PREV: 'prev',\n  NEXT: 'next',\n};\n\nexport const states = {\n  CLOSING: 'closing',\n  OPENING: 'opening',\n  OPEN: 'open',\n  CLOSED: 'closed',\n};\n","const keyCodes = {\n  UP: 38,\n  DOWN: 40,\n  LEFT: 37,\n  RIGHT: 39,\n  TAB: 9,\n  ENTER: 13,\n  HOME: 36,\n  END: 35,\n  SPACE: 32,\n  ESC: 27,\n};\n\nexport default keyCodes;\n","import FDSComponent from '../component/component';\nimport { classes, attributes, strings, states } from './fmcAccordion.const';\nimport keyCodes from '../../utilities/constants/keycodes.const';\nimport forceCssReflow from '../../utilities/functions/forceCssReflow';\n\n/**\n * Class constructor for FMCAccordion FDS component.\n *\n * @param {HTMLElement} element The element that will be bootstrapped.\n */\nexport default class FMCAccordion extends FDSComponent {\n  static bootstrapComponents() {\n    const components = [];\n\n    Array.prototype.forEach.call(document.querySelectorAll(`.${classes.COMPONENT}`), (element) => {\n      if (!FDSComponent.isElementBootstrapped(element)) {\n        components.push(new FMCAccordion(element));\n      }\n    });\n\n    return components;\n  }\n\n  init() {\n    super.init();\n\n    this.accordionPanels = this.getElements(`.${classes.PANEL}`);\n\n    this.currentPanelFocus = 0;\n\n    this.accordionPanels.forEach((panel, index) => {\n      panel.buttonElement = panel.querySelector(`.${classes.BUTTON}`);\n      panel.bodyElement = panel.querySelector(`.${classes.BODY}`);\n      panel.contentElement = panel.querySelector(`.${classes.CONTENT}`);\n      this.setPanelState(panel, panel.classList.contains(classes.EXPANDED) ? states.OPEN : states.CLOSED);\n\n      panel.buttonElement.addEventListener('click', () => this.onClick(panel, index));\n      panel.buttonElement.addEventListener('keyup', (event) => this.onKeyup(event));\n      panel.buttonElement.addEventListener('keydown', (event) => this.onKeydown(event));\n      panel.buttonElement.addEventListener('blur', () => this.onBlur(panel));\n      panel.bodyElement.addEventListener('transitionend', (event) => this.onTransitionEnd(panel, event));\n\n      if (panel.classList.contains(classes.ACTIVE)) {\n        this.currentPanelFocus = index;\n        panel.buttonElement.focus();\n      }\n    });\n  }\n\n  setPanelState(panel, state) {\n    panel.state = state;\n\n    switch (state) {\n      case states.CLOSED:\n        panel.bodyElement.style.height = 0;\n        // Hidden visibility makes focusable elements not focusable, so it is used instead of aria-hidden.\n        panel.contentElement.style.visibility = 'hidden';\n        panel.buttonElement.setAttribute(attributes.ARIA_EXPANDED, 'false');\n        panel.buttonElement.setAttribute(attributes.ARIA_HIDDEN, 'true');\n        break;\n      case states.CLOSING:\n        // Set the height to the content height before closing. This is necessary because the CSS\n        // transition will not run when the height changes from \"auto\" to \"0\".\n        panel.bodyElement.style.height = `${panel.contentElement.offsetHeight}px`;\n        forceCssReflow(panel.bodyElement);\n        panel.bodyElement.style.height = 0;\n        panel.contentElement.style.visibility = 'visible';\n        panel.buttonElement.setAttribute(attributes.ARIA_EXPANDED, 'false');\n        panel.buttonElement.setAttribute(attributes.ARIA_HIDDEN, 'true');\n        break;\n      case states.OPENING:\n        panel.bodyElement.style.height = `${panel.contentElement.offsetHeight}px`;\n        panel.contentElement.style.visibility = 'visible';\n        panel.buttonElement.setAttribute(attributes.ARIA_EXPANDED, 'true');\n        panel.buttonElement.setAttribute(attributes.ARIA_HIDDEN, 'false');\n        break;\n      case states.OPEN:\n        panel.bodyElement.style.height = `auto`; // Let the body's height change freely with its content.\n        panel.contentElement.style.visibility = 'visible';\n        panel.buttonElement.setAttribute(attributes.ARIA_EXPANDED, 'true');\n        panel.buttonElement.setAttribute(attributes.ARIA_HIDDEN, 'false');\n        break;\n      default:\n        break;\n    }\n  }\n\n  expandPanel(panel) {\n    panel.classList.add(classes.EXPANDED);\n    if (panel.state !== states.OPEN) {\n      this.setPanelState(panel, states.OPENING);\n    }\n  }\n\n  collapsePanel(panel) {\n    panel.classList.remove(classes.EXPANDED);\n    if (panel.state !== states.CLOSED) {\n      this.setPanelState(panel, states.CLOSING);\n    }\n  }\n\n  navigatePanels(direction) {\n    this.accordionPanels[this.currentPanelFocus].focused = false;\n    this.accordionPanels[this.currentPanelFocus].classList.remove(classes.ACTIVE);\n\n    switch (direction) {\n      case strings.HOME:\n        this.currentPanelFocus = 0;\n        break;\n      case strings.END:\n        this.currentPanelFocus = this.accordionPanels.length - 1;\n        break;\n      case strings.NEXT:\n        this.currentPanelFocus += 1;\n        break;\n      case strings.PREV:\n        this.currentPanelFocus -= 1;\n        break;\n      default:\n        this.currentPanelFocus = 0;\n        break;\n    }\n\n    if (this.currentPanelFocus > this.accordionPanels.length - 1) this.currentPanelFocus = 0;\n    if (this.currentPanelFocus < 0) this.currentPanelFocus = this.accordionPanels.length - 1;\n\n    this.focus(this.accordionPanels[this.currentPanelFocus].querySelector(`.${classes.BUTTON}`));\n  }\n\n  focus(buttonElement) {\n    const panelElement = buttonElement.closest(`.${classes.PANEL}`);\n    panelElement.focused = true;\n    panelElement.classList.add(classes.ACTIVE);\n    buttonElement.focus();\n  }\n\n  onLoad(panel) {\n    if (panel.classList.contains(classes.EXPANDED)) {\n      this.expandPanel(panel);\n    } else {\n      this.collapsePanel(panel);\n    }\n  }\n\n  onClick(panel, index) {\n    this.currentPanelFocus = index;\n    panel.classList.add(classes.ACTIVE);\n\n    if (panel.classList.contains(classes.EXPANDED)) {\n      this.collapsePanel(panel);\n    } else {\n      this.expandPanel(panel);\n    }\n  }\n\n  onBlur(panel) {\n    panel.classList.remove(classes.ACTIVE);\n    panel.focused = false;\n  }\n\n  onKeyup(event) {\n    switch (event.keyCode) {\n      case keyCodes.TAB:\n        this.focus(event.target);\n        break;\n      case keyCodes.SPACE:\n        event.preventDefault();\n        break;\n    }\n  }\n\n  onKeydown(event) {\n    switch (event.keyCode) {\n      case keyCodes.ENTER:\n      case keyCodes.SPACE:\n        event.preventDefault();\n        event.target.click();\n        break;\n      case keyCodes.LEFT:\n      case keyCodes.UP:\n        event.preventDefault();\n        this.navigatePanels(strings.PREV);\n        break;\n      case keyCodes.RIGHT:\n      case keyCodes.DOWN:\n        event.preventDefault();\n        this.navigatePanels(strings.NEXT);\n        break;\n      case keyCodes.END:\n        event.preventDefault();\n        this.navigatePanels(strings.END);\n        break;\n      case keyCodes.HOME:\n        event.preventDefault();\n        this.navigatePanels(strings.HOME);\n        break;\n      default:\n        break;\n    }\n  }\n\n  onTransitionEnd(panel, event) {\n    if (event.target === panel.bodyElement) {\n      if (panel.state === states.CLOSING) {\n        this.setPanelState(panel, states.CLOSED);\n      } else {\n        this.setPanelState(panel, states.OPEN);\n      }\n    }\n  }\n\n  expandAll() {\n    this.accordionPanels.forEach((panel) => {\n      if (panel.state === states.CLOSED) this.expandPanel(panel);\n    });\n  }\n\n  collapseAll() {\n    this.accordionPanels.forEach((panel) => {\n      if (panel.state === states.OPEN) this.collapsePanel(panel);\n    });\n  }\n}\n","function forceCssReflow(element) {\n  // Reading an element's offset height forces its CSS to reflow.\n  return element.offsetHeight;\n}\n\nexport default forceCssReflow;\n","export const classes = {\n  COMPONENT: 'js-fmc-tabs',\n  HORIZONTAL: 'fmc-tabs--horizontal',\n  VERTICAL: 'fmc-tabs--vertical',\n  TAB_LIST_WRAPPER: 'fmc-tabs__tablist-wrapper',\n  TAB_LIST: 'fmc-tabs__tablist',\n  TAB: 'fmc-tabs__tab',\n  TAB_BORDER: 'fmc-tabs__tab-border',\n  TAB_PANELS: 'fmc-tabs__tabpanels',\n  TAB_PANEL: 'fmc-tabs__tabpanel',\n  HOVER: 'fmc-tabs__tab--hover',\n  ACTIVE: 'fmc-tabs__tab--active',\n  ACTIVE_PANEL: 'fmc-tabs__tabpanel--active',\n  FOCUSED_PANEL: 'fmc-tabs__tabpanel--focus',\n  FOCUSED: 'fmc-tabs__tab--focused',\n};\n\nexport const attributes = {\n  ARIA_SELECTED: 'aria-selected',\n  ARIA_CONTROLS: 'aria-controls',\n  TABINDEX: 'tabindex',\n};\n\nexport const attributeTestValues = {\n  TABLIST_ROLE: 'tablist',\n  TAB_ROLE: 'tab',\n  TABPANEL_ROLE: 'tabpanel',\n  PANEL1_ID: 'Panel1',\n  PANEL2_ID: 'Panel2',\n  TAB_WIDTH: '60px',\n};\n\nexport const keyCodes = {\n  UP: 38,\n  DOWN: 40,\n  LEFT: 37,\n  RIGHT: 39,\n  TAB: 9,\n  ENTER: 13,\n  HOME: 36,\n  END: 35,\n};\n\nexport const customProperties = {\n  TABLIST_PADDING_LEFT: 30,\n};\n","import FDSComponent from '../component/component';\n\nimport { classes, attributes, keyCodes } from './fmcTabs.const';\n\n/**\n * Class constructor for FDSTabs FDS component.\n *\n * @param {HTMLElement} element The element that will be bootstrapped.\n */\nexport default class FMCTabs extends FDSComponent {\n  /**\n   * Bootstraps all FDSTabs components.\n   * @returns {Array} Returns an array of all newly upgraded components.\n   */\n  static bootstrapComponents() {\n    const components = [];\n\n    Array.prototype.forEach.call(document.querySelectorAll(`.${classes.COMPONENT}`), (element) => {\n      if (!FDSComponent.isElementBootstrapped(element)) {\n        components.push(new FMCTabs(element));\n      }\n    });\n\n    return components;\n  }\n\n  init() {\n    super.init();\n\n    // Initialize selectors\n    this.tabListWrapperElement = this.fdsElement.querySelector(`.${classes.TAB_LIST_WRAPPER}`);\n    this.tabListElement = this.fdsElement.querySelector(`.${classes.TAB_LIST}`);\n    this.tabElements = this.fdsElement.querySelectorAll(`.${classes.TAB}`);\n    this.tabBorderElement = this.fdsElement.querySelector(`.${classes.TAB_BORDER}`);\n    this.tabPanelsElement = this.fdsElement.querySelector(`.${classes.TAB_PANELS}`);\n    this.tabPanelElements = this.fdsElement.querySelectorAll(`.${classes.TAB_PANEL}`);\n\n    if (this.tabElements.length > 0) {\n      this.horizontal = true;\n      this.vertical = this.fdsElement.classList.contains(classes.VERTICAL);\n\n      [...this.tabElements].forEach((tab) => {\n        tab.addEventListener('click', (this.tabClickHandler = (event) => this.onTabClick(event)));\n        tab.addEventListener('keydown', (this.tabKeydownHandler = (event) => this.onTabKeydown(event)));\n      });\n\n      [...this.tabPanelElements].forEach((tabPanel) => {\n        tabPanel.addEventListener('keydown', (this.tabPanelKeydownHandler = (event) => this.onTabPanelKeydown(event)));\n        tabPanel.addEventListener('blur', (this.tabPanelBlurHandler = (event) => this.onTabPanelBlur(event)));\n      });\n\n      this.tabSelectedElement = [...this.tabElements].find(\n        (tab) => tab.getAttribute(attributes.ARIA_SELECTED).toLowerCase() === 'true'\n      );\n\n      this.activateTab(this.tabSelectedElement);\n      document.fonts.ready.then(() => {\n        this.setSelectedTabBorder(this.tabSelectedElement);\n      });\n    }\n  }\n\n  findSelectedIndex(event) {\n    this.selectedTabIndex = [...this.tabElements].findIndex((tab) => tab === event.target);\n  }\n\n  focusTab(tab) {\n    tab.focus();\n    tab.click();\n    tab.scrollIntoView();\n  }\n\n  setSelectedTabBorder(tab) {\n    const newWidth = `${tab.getBoundingClientRect().width}px`;\n    this.tabBorderElementPos = this.tabBorderElement.offsetLeft;\n    let newBorderPos;\n\n    if (tab.offsetLeft === 0) {\n      newBorderPos = '0px';\n    } else {\n      newBorderPos = `${this.tabBorderElementPos + tab.offsetLeft}px`;\n    }\n\n    this.tabListWrapperElement.style.setProperty('--tab-selected-border-transform', `translateX(${newBorderPos})`);\n    this.tabListWrapperElement.style.setProperty('--tab-selected-border-width', newWidth);\n    this.tabListWrapperElement.style.setProperty('--tab-selected-border-display', 'block');\n  }\n\n  activateTab(tab) {\n    // Deactivate all other tabs\n    this.deactivateTabs();\n\n    // Set the tab as selected\n    tab.setAttribute(attributes.ARIA_SELECTED, 'true');\n    tab.setAttribute(attributes.TABINDEX, 0);\n    tab.classList.add(classes.ACTIVE);\n\n    // Get the value of aria-controls (which is an ID) to set the panel correctly\n    const panelControl = tab.getAttribute(attributes.ARIA_CONTROLS);\n    this.panelSelectedElement = this.fdsElement.querySelector(`#${panelControl}`);\n    this.panelSelectedElement.classList.add(classes.ACTIVE_PANEL);\n  }\n\n  deactivateTabs() {\n    [...this.tabElements].forEach((tab) => {\n      tab.setAttribute(attributes.ARIA_SELECTED, 'false');\n      tab.setAttribute(attributes.TABINDEX, -1);\n      tab.classList.remove(classes.ACTIVE);\n    });\n    [...this.tabPanelElements].forEach((tabPanel) => {\n      tabPanel.classList.remove(classes.ACTIVE_PANEL);\n    });\n  }\n\n  onTabClick(event) {\n    this.findSelectedIndex(event);\n    this.activateTab(event.target, false);\n    this.setSelectedTabBorder(event.target);\n  }\n\n  onTabPanelBlur(event) {\n    event.target.classList.remove(classes.FOCUSED_PANEL);\n  }\n\n  onTabKeydown(event) {\n    switch (event.keyCode) {\n      case keyCodes.TAB:\n        event.preventDefault();\n        this.findSelectedIndex(event);\n        break;\n      case keyCodes.END:\n        event.preventDefault();\n        this.selectedTabIndex = this.tabElements.length - 1;\n        break;\n      case keyCodes.HOME:\n        event.preventDefault();\n        this.selectedTabIndex = 0;\n        break;\n      case keyCodes.RIGHT:\n        event.preventDefault();\n        if (this.selectedTabIndex === this.tabElements.length - 1) {\n          this.selectedTabIndex = 0;\n        } else {\n          this.selectedTabIndex += 1;\n        }\n        break;\n      case keyCodes.LEFT:\n        event.preventDefault();\n        if (this.selectedTabIndex === 0) {\n          this.selectedTabIndex = this.tabElements.length - 1;\n        } else {\n          this.selectedTabIndex -= 1;\n        }\n        break;\n      default:\n        return;\n    }\n\n    this.focusTab(this.tabElements[this.selectedTabIndex]);\n  }\n\n  onTabPanelKeydown(event) {\n    switch (event.keyCode) {\n      case keyCodes.TAB:\n        event.preventDefault();\n        event.target.classList.add(classes.FOCUSED_PANEL);\n        break;\n      default:\n        break;\n    }\n  }\n}\n","export const classes = {\n  COMPONENT: 'js-fmc-tooltip',\n  TOOLTIP: 'fmc-tooltip',\n  POPUP_TOOLTIP: 'fmc-tooltip--popup',\n  TRIGGER: 'fmc-tooltip__trigger',\n  CONTENT: 'fmc-tooltip__content',\n  WRAPPER: 'fmc-tooltip__wrapper',\n  POINTER: 'fmc-tooltip__pointer',\n  POINTER_FIX: 'fmc-tooltip__pointer-fix',\n  OPENED: 'fmc-tooltip--opened',\n  FOCUSED: 'fmc-tooltip--focused',\n  TOP: 'fmc-tooltip--top',\n  RIGHT: 'fmc-tooltip--right',\n  BOTTOM: 'fmc-tooltip--bottom',\n  LEFT: 'fmc-tooltip--left',\n  MEASURE: 'fmc-tooltip__content--measure',\n  CLOSE_BTN: 'fmc-tooltip__close',\n  CLEAR_ICON: 'fds-font--ford-icons__clear',\n  FDS_ICON: 'fds-icon',\n  HEADER: 'fmc-tooltip__header',\n  BODY: 'fmc-tooltip__body',\n  MOBILE: 'fmc-tooltip--mobile',\n};\n\nexport const attributes = {\n  ID: 'id',\n  DATA_POSITION: 'data-position',\n  DATA_SLUG: 'data-slug',\n  DATA_POPUP_TIP: 'data-popup-tip',\n};\n","import FDSComponent from '../component/component';\nimport { classes, attributes } from './fmcTooltip.const';\nimport keyCodes from '../../utilities/constants/keycodes.const';\n\n/**\n * Class constructor for FMCTooltip FDS component.\n *\n * @param {HTMLElement} element The element that will be bootstrapped.\n */\nexport default class FMCTooltip extends FDSComponent {\n  static bootstrapComponents() {\n    const components = [];\n\n    Array.prototype.forEach.call(document.querySelectorAll(`.${classes.COMPONENT}`), (element) => {\n      if (!FDSComponent.isElementBootstrapped(element)) {\n        components.push(new FMCTooltip(element));\n      }\n    });\n\n    return components;\n  }\n\n  init() {\n    super.init();\n\n    this.focusableSelector =\n      'body, a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]';\n\n    this.slug = this.fdsElement.getAttribute(attributes.DATA_SLUG);\n    this.position = this.fdsElement.getAttribute(attributes.DATA_POSITION);\n    this.isPopupTip = this.fdsElement.hasAttribute(attributes.DATA_POPUP_TIP);\n    this.opened = false;\n\n    this.mq = {\n      small: '(max-width: 600px)',\n    };\n\n    this.triggerElement = this.getElement(`.${classes.TRIGGER}`);\n    this.wrapperElement = this.getElement(`.${classes.WRAPPER}`);\n    this.contentElement = this.getElement(`.${classes.CONTENT}`);\n\n    if (this.isPopupTip) {\n      this.headerElement = this.getElement(`.${classes.HEADER}`);\n      this.bodyElement = this.getElement(`.${classes.BODY}`);\n    }\n\n    this.appendPointer();\n\n    if (this.position === 'auto') {\n      setTimeout(() => {\n        // allow a paint before calculating position\n        this.autoPosition();\n      }, 1);\n    } else {\n      this.setPosition(this.position);\n    }\n\n    // TODO: figure out why this needs to be in a setTimeout to calculate correctly\n    setTimeout(() => {\n      this.shiftOffScreenContent();\n    }, 500);\n\n    if (this.isPopupTip) {\n      this.fdsElement.classList.add(classes.POPUP_TOOLTIP);\n      this.addCloseBtn();\n      this.determineMobile();\n    }\n\n    this.addA11yAttributes();\n\n    this.focusableElements = this.contentElement.querySelectorAll(this.focusableSelector);\n\n    this.onKeyUp = (event) => this.handleKeyUp(event);\n    this.onTriggerUp = (event) => this.handleTriggerUp(event);\n    this.onClick = () => this.handleClick();\n    this.onBlur = () => this.handleBlur();\n    this.onMouseover = () => this.handleMouseover();\n    this.onMouseout = () => this.handleMouseout();\n    this.onResize = () => this.determineMobile();\n\n    if (this.isPopupTip) {\n      window.addEventListener('resize', this.onResize);\n    }\n\n    this.initEventListeners();\n  }\n\n  initEventListeners() {\n    this.fdsElement.addEventListener('keyup', this.onKeyUp);\n    this.triggerElement.addEventListener('keyup', this.onTriggerUp);\n\n    if (this.isPopupTip) {\n      this.triggerElement.addEventListener('click', this.onClick);\n    } else {\n      this.triggerElement.addEventListener('mouseover', this.onMouseover);\n      this.triggerElement.addEventListener('mouseout', this.onMouseout);\n      this.triggerElement.addEventListener('blur', this.onBlur);\n    }\n  }\n\n  destroyEventListeners() {\n    this.fdsElement.removeEventListener('keyup', this.onKeyUp);\n    this.triggerElement.removeEventListener('keyup', this.onTriggerUp);\n    this.triggerElement.removeEventListener('blur', this.onBlur);\n    window.removeEventListener('resize', this.onResize);\n\n    if (this.isPopupTip) {\n      this.triggerElement.removeEventListener('click', this.onClick);\n    } else {\n      this.triggerElement.removeEventListener('mouseover', this.onMouseover);\n      this.triggerElement.removeEventListener('mouseout', this.onMouseout);\n    }\n  }\n\n  measureWidth() {\n    // this creates a temporary content element to measure the width of then destroys it\n\n    const text = this.contentElement.innerText;\n    const measure = document.createElement('div');\n\n    measure.innerText = text;\n    measure.classList.add(classes.CONTENT);\n    measure.classList.add(classes.MEASURE);\n\n    this.fdsElement.appendChild(measure);\n\n    const measureElement = window.getComputedStyle(this.fdsElement.querySelector(`.${classes.MEASURE}`));\n\n    this.wrapperElement.style.width = measureElement.width;\n    measure.remove();\n  }\n\n  autoPosition() {\n    // try to position at top initially\n    this.removePositions();\n    this.setPosition('top');\n    let wrapperRect = this.wrapperElement.getBoundingClientRect();\n\n    // if top is off-screen, set right\n    if (wrapperRect.top < 0) {\n      wrapperRect = this.wrapperElement.getBoundingClientRect();\n      this.removePositions();\n      this.setPosition('right');\n    }\n\n    // if right is off-screen, set bottom\n    if (wrapperRect.right > window.innerWidth) {\n      wrapperRect = this.wrapperElement.getBoundingClientRect();\n      this.removePositions();\n      this.setPosition('bottom');\n    }\n\n    // if bottom and right is off-screen, set left\n    if (wrapperRect.bottom > window.innerHeight && wrapperRect.right > window.innerWidth) {\n      wrapperRect = this.wrapperElement.getBoundingClientRect();\n      this.removePositions();\n      this.setPosition('left');\n    }\n  }\n\n  setPosition(position) {\n    this.fdsElement.classList.add(classes[position.toUpperCase()]);\n  }\n\n  removePositions() {\n    this.fdsElement.classList.remove(classes.TOP);\n    this.fdsElement.classList.remove(classes.RIGHT);\n    this.fdsElement.classList.remove(classes.BOTTOM);\n    this.fdsElement.classList.remove(classes.LEFT);\n  }\n\n  shiftOffScreenContent() {\n    // order here is important. to properly detect an offscreen tooltip\n    // we must remove the direction properties before getting contentRect\n    this.contentElement.style.removeProperty('top');\n    this.contentElement.style.removeProperty('right');\n    this.contentElement.style.removeProperty('bottom');\n    this.contentElement.style.removeProperty('left');\n\n    const contentRect = this.contentElement.getBoundingClientRect();\n\n    if (!window.matchMedia(this.mq.small).matches) {\n      if (contentRect.top < 0) {\n        this.contentElement.style.top = `${Math.abs(contentRect.top)}px`;\n      } else {\n        this.contentElement.style.removeProperty('top');\n      }\n\n      if (window.innerWidth - contentRect.right < 0) {\n        this.contentElement.style.right = `${Math.abs(window.innerWidth - contentRect.right)}px`;\n      } else {\n        this.contentElement.style.removeProperty('right');\n      }\n\n      if (contentRect.bottom > window.innerHeight) {\n        this.contentElement.style.bottom = `${Math.abs(contentRect.bottom - window.innerHeight)}px`;\n      } else {\n        this.contentElement.style.removeProperty('bottom');\n      }\n\n      if (contentRect.left < 0) {\n        this.contentElement.style.left = `${Math.abs(contentRect.left)}px`;\n      } else {\n        this.contentElement.style.removeProperty('left');\n      }\n    }\n  }\n\n  handleKeyUp(event) {\n    if (event && event.keyCode === keyCodes.ESC) {\n      this.close();\n      this.triggerElement.focus();\n    }\n\n    if (event && !this.opened && event.keyCode === keyCodes.ENTER) {\n      this.triggerElement.focus();\n    }\n  }\n\n  handleTriggerUp(event) {\n    if (event && event.keyCode === keyCodes.TAB) {\n      if (!this.isPopupTip) {\n        this.open();\n      }\n    }\n\n    if (event && event.keyCode === keyCodes.ENTER) {\n      this.closeBTN.focus();\n    }\n\n    if (event && event.keyCode === keyCodes.SPACE) {\n      this.closeBTN.focus();\n    }\n  }\n\n  handleFocusableDown(event) {\n    const firstFocusable = this.focusableElements[0];\n    const lastFocusable = this.focusableElements[this.focusableElements.length - 1];\n\n    if (event.keyCode === keyCodes.TAB) {\n      if (event.shiftKey && document.activeElement === firstFocusable) {\n        event.preventDefault();\n        lastFocusable.focus();\n      } else if (!event.shiftKey && document.activeElement === lastFocusable) {\n        event.preventDefault();\n        firstFocusable.focus();\n      }\n    }\n  }\n\n  addA11yAttributes() {\n    this.wrapperElement.setAttribute('id', this.slug);\n    this.wrapperElement.setAttribute('aria-hidden', 'true');\n\n    this.contentElement.querySelectorAll(this.focusableSelector).forEach((element) => {\n      element.setAttribute('tabindex', '-1');\n    });\n\n    if (this.isPopupTip) {\n      this.wrapperElement.setAttribute('role', 'dialog');\n      this.headerElement.setAttribute('id', `${this.slug}-header`);\n      this.bodyElement.setAttribute('id', `${this.slug}-body`);\n      this.wrapperElement.setAttribute('aria-modal', 'true');\n      this.wrapperElement.setAttribute('aria-labelledby', `${this.slug}-header`);\n      this.wrapperElement.setAttribute('aria-describedby', `${this.slug}-body`);\n    } else {\n      this.wrapperElement.setAttribute('role', 'tooltip');\n      this.triggerElement.setAttribute('aria-describedby', this.slug);\n    }\n  }\n\n  appendPointer() {\n    const pointerElement = document.createElement('span');\n    const pointerFixElement = document.createElement('span');\n\n    pointerElement.classList.add(classes.POINTER);\n    pointerFixElement.classList.add(classes.POINTER_FIX);\n\n    this.wrapperElement.appendChild(pointerElement);\n    this.fdsElement.querySelector(`.${classes.POINTER}`).appendChild(pointerFixElement);\n  }\n\n  addCloseBtn() {\n    const button = document.createElement('button');\n\n    button.classList.add(classes.CLOSE_BTN);\n    button.classList.add(classes.CLEAR_ICON);\n    button.classList.add(classes.FDS_ICON);\n    button.setAttribute('aria-label', 'close tooltip');\n\n    this.contentElement.appendChild(button);\n    this.closeBTN = this.fdsElement.querySelector(`.${classes.CLOSE_BTN}`);\n\n    this.closeBTN.addEventListener('click', () => {\n      this.close();\n      this.triggerElement.focus();\n    });\n  }\n\n  determineMobile() {\n    if (this.isPopupTip && window.matchMedia(this.mq.small).matches) {\n      this.fdsElement.classList.add(classes.MOBILE);\n      this.shiftOffScreenContent();\n    } else {\n      this.fdsElement.classList.remove(classes.MOBILE);\n      this.shiftOffScreenContent();\n    }\n  }\n\n  open() {\n    this.opened = true;\n    this.fdsElement.classList.add(classes.OPENED);\n    this.wrapperElement.setAttribute('aria-hidden', 'false');\n\n    this.contentElement.querySelectorAll(this.focusableSelector).forEach((element) => {\n      element.setAttribute('tabindex', '0');\n    });\n  }\n\n  close() {\n    this.opened = false;\n    this.fdsElement.classList.remove(classes.OPENED);\n    this.wrapperElement.setAttribute('aria-hidden', 'true');\n\n    this.contentElement.querySelectorAll(this.focusableSelector).forEach((element) => {\n      element.setAttribute('tabindex', '-1');\n    });\n  }\n\n  handleClick() {\n    if (this.fdsElement.classList.contains(classes.OPENED)) {\n      this.close();\n      this.triggerElement.focus();\n    } else {\n      if (this.position === 'auto') {\n        this.autoPosition();\n      }\n\n      this.shiftOffScreenContent();\n      this.open();\n    }\n\n    this.focusableElements.forEach((element) => {\n      element.addEventListener('keydown', (event) => this.handleFocusableDown(event));\n    });\n  }\n\n  handleBlur() {\n    this.close();\n  }\n\n  handleMouseover() {\n    this.measureWidth();\n    this.open();\n  }\n\n  handleMouseout() {\n    this.close();\n  }\n}\n"],"names":["classes","FDSComponent","static","element","classList","contains","constructor","namespace","this","fdsElement","isIE11","init","add","ua","window","navigator","userAgent","indexOf","rv","parseInt","substring","removeChild","childNode","parentNode","remove","createElement","elTagName","elClasses","elAttributes","document","length","Array","isArray","forEach","elClass","Object","entries","attribute","setAttribute","getElement","selector","querySelector","getElements","querySelectorAll","attributes","strings","states","keyCodes","FMCAccordion","components","prototype","call","isElementBootstrapped","push","super","accordionPanels","currentPanelFocus","panel","index","buttonElement","bodyElement","contentElement","setPanelState","addEventListener","onClick","event","onKeyup","onKeydown","onBlur","onTransitionEnd","focus","state","style","height","visibility","offsetHeight","expandPanel","collapsePanel","navigatePanels","direction","focused","panelElement","closest","onLoad","keyCode","target","preventDefault","click","expandAll","collapseAll","FMCTabs","tabListWrapperElement","tabListElement","tabElements","tabBorderElement","tabPanelsElement","tabPanelElements","horizontal","vertical","tab","tabClickHandler","onTabClick","tabKeydownHandler","onTabKeydown","tabPanel","tabPanelKeydownHandler","onTabPanelKeydown","tabPanelBlurHandler","onTabPanelBlur","tabSelectedElement","find","getAttribute","toLowerCase","activateTab","fonts","ready","then","setSelectedTabBorder","findSelectedIndex","selectedTabIndex","findIndex","focusTab","scrollIntoView","newWidth","getBoundingClientRect","width","newBorderPos","tabBorderElementPos","offsetLeft","setProperty","deactivateTabs","panelControl","panelSelectedElement","COMPONENT","TOOLTIP","POPUP_TOOLTIP","TRIGGER","CONTENT","WRAPPER","POINTER","POINTER_FIX","OPENED","FOCUSED","TOP","RIGHT","BOTTOM","LEFT","MEASURE","CLOSE_BTN","CLEAR_ICON","FDS_ICON","HEADER","BODY","MOBILE","FMCTooltip","focusableSelector","slug","position","isPopupTip","hasAttribute","opened","mq","small","triggerElement","wrapperElement","headerElement","appendPointer","setTimeout","autoPosition","setPosition","shiftOffScreenContent","addCloseBtn","determineMobile","addA11yAttributes","focusableElements","onKeyUp","handleKeyUp","onTriggerUp","handleTriggerUp","handleClick","handleBlur","onMouseover","handleMouseover","onMouseout","handleMouseout","onResize","initEventListeners","destroyEventListeners","removeEventListener","measureWidth","text","innerText","measure","appendChild","measureElement","getComputedStyle","removePositions","wrapperRect","top","right","innerWidth","bottom","innerHeight","toUpperCase","removeProperty","contentRect","matchMedia","matches","Math","abs","left","close","open","closeBTN","handleFocusableDown","firstFocusable","lastFocusable","shiftKey","activeElement","pointerElement","pointerFixElement","button"],"mappings":"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"}